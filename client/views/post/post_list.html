<!-- Generated on 2015-04-20 by meteor-stock. Edit me! -->
<template name="postsList">
	<div class="panel panel-default" id="postsPanel">

		<div class="panel-heading">
			<div class="row">
				<div class="">
					<h3 class="panel-title">
						<i class="fa fa-pencil-square-o"></i> Posts
					</h3>
				</div>
				<div class="pull-right">
					{{> tooltips title="Posts" content="Post notes for all your suitemates to see. This is a great place to post about house rules, reminders or upcoming opportunities."}}
					{{> newPost}}
				</div>
			</div>
		</div>

		<!-- 
			Need to change so 'each post' generates a list-group-item,
			see iou_list for an example. This is just a placeholder.
		-->
		<div class="panel-body" id="postsList" >
			<div class="postsPackery">
				{{#each posts}}
				<div class="post-item">
					{{> Post}}
				</div>
				{{/each}}
			</div>
		</div>

	</div>		
</template>

<template name="Post">
  <button type="button" class="btn btn-xs btn-danger delete delete-button" postId="{{_id}}">
  	<i class="fa fa-times"></i>
  </button>
	<span class="editable-text">	
		{{> editableText collection="posts" field="message" placeholder="Post message" removeEmpty=true wysiwyg=true beforeUpdate="whoDunnitPosts" onStartEditing="postsPackery" onStopEditing="postsPackery" substitute='<i class="fa fa-pencil"></i>'}}
	</span>
	<div class="last-edited"> 
	last edited at {{lastEdited}} by {{getName lastEditor}}
	</div>
</template>

<template name="newPost">

	<span class="btn btn-md btn-primary costsplit-btn editable-text-trigger new">
		<i class="fa fa-plus"></i> New 
	</span>

</template>
